(this.webpackJsonpjsplot=this.webpackJsonpjsplot||[]).push([[0],{14:function(e,t,n){e.exports=n(27)},19:function(e,t,n){},23:function(e,t,n){},24:function(e,t,n){},27:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(8),c=n.n(o),i=(n(19),n(1)),l=n(12),u=n(9),s=n(10),h=n(11),d=n(13),m=n(6),v=n.n(m);n(20),n(21);n(22);var f=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleChange=function(t){e.props.onChange&&e.props.onChange(t.getValue())},e.handleKeyDown=function(t,n){e.props.onKeyDown&&e.props.onKeyDown(n)},e.container=null,e.codeMirror=void 0,e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){if(this.container){var e=v()(this.container,Object(l.a)({value:this.props.value||""},this.props.options));e.on("change",this.handleChange),e.on("keydown",this.handleKeyDown),this.codeMirror=e}}},{key:"componentWillReceiveProps",value:function(e){var t=e.value||"";this.codeMirror&&this.codeMirror.getValue()!==t&&this.codeMirror.setValue(t)}},{key:"shouldComponentUpdate",value:function(e){return e.className!==this.props.className}},{key:"render",value:function(){var e=this;return a.createElement("div",{className:this.props.className,ref:function(t){return e.container=t}})}}]),n}(a.Component),p=(n(23),n(2)),g=(n(24),n(3)),b=n.n(g);function w(e,t,n){return"hsl(".concat(function(e){for(var t=0,n=0;n<e.length;n++)t=Math.imul(31,t)+e.charCodeAt(n)|0;return t}(e)%360,", ").concat(100*t,"%, ").concat(100*n,"%)")}function E(e,t,n){return Math.min(Math.max(e,t),n)}function y(e,t,n,a,r){return a+(e-t)/(n-t)*(r-a)}function j(e,t){if(t){var n=Math.floor(t[0]*e.length),a=Math.ceil(t[1]*e.length);return{data:e.slice(n,a),start:n,end:a}}return{data:e,start:0,end:e.length}}function M(e,t,n,a){var r,o,c,i=j(n.data,a).data;if(0!==i.length){var l=null!==(r=n.yMin)&&void 0!==r?r:i.reduce((function(e,t){return Math.min(e,t)})),u=(null!==(o=n.yMax)&&void 0!==o?o:i.reduce((function(e,t){return Math.max(e,t)})))-l,s=function(t,n){return[e.width*t/(i.length-1),e.height-e.height*(n-l)/u]};t.beginPath(),t.moveTo.apply(t,Object(p.a)(s(0,i[0]))),t.strokeStyle=null!==(c=n.color)&&void 0!==c?c:w(n.label,.5,.5);for(var h=1;h<i.length;h++)t.lineTo.apply(t,Object(p.a)(s(h,i[h])));t.stroke()}}function k(e){var t=e.lines,n=e.title,r=a.createRef(),o=a.createRef(),c=a.useState([]),l=Object(i.a)(c,2),u=l[0],s=l[1],h=a.useState([]),d=Object(i.a)(h,2),m=d[0],v=d[1],f=a.useState(),g=Object(i.a)(f,2),k=g[0],C=g[1],O=a.useCallback(b.a.throttle(C,16),[C]),N=a.useState(),P=Object(i.a)(N,2),S=P[0],D=P[1];a.useEffect((function(){if(r.current){var e=r.current.getContext("2d");e.clearRect(0,0,r.current.width,r.current.height);for(var n=0;n<t.length;n++)!0!==m[n]&&M(r.current,e,t[n],b.a.last(u))}}),[t,u,m]),a.useEffect((function(){if(o.current){var e=o.current.getContext("2d");e.clearRect(0,0,o.current.width,o.current.height),void 0!==k&&(e.beginPath(),e.strokeStyle="rgba(255, 255, 255, 0.3)",e.moveTo(k*o.current.width,0),e.lineTo(k*o.current.width,o.current.height),e.stroke()),S&&(e.fillStyle="rgba(255, 255, 255, 0.1)",e.fillRect(S[0]*o.current.width,0,(S[1]-S[0])*o.current.width,o.current.height))}}),[k,S]);var R=600,x=250;return a.createElement("div",{className:"Plot"},n&&a.createElement("b",null,n),a.createElement("div",{className:"PlotCanvases"},a.createElement("canvas",{className:"PlotDataCanvas",width:R,height:x,ref:r}),a.createElement("canvas",{className:"PlotUICanvas",width:R,height:x,ref:o,onMouseMove:function(e){var t=e.target.getBoundingClientRect();O((e.clientX-t.left)/t.width)},onMouseOut:function(e){return O(void 0)},onMouseDown:function(e){var t=e.target.getBoundingClientRect(),n=(e.clientX-t.left)/t.width;D([n,n]);var a=function(e){var a=E((e.clientX-t.left)/t.width,0,1);return a<n?[a,n]:[n,a]},r=function(e){e.preventDefault(),e.stopPropagation(),D(a(e))};document.addEventListener("mouseup",(function e(t){var n=a(t),o=b.a.last(u);s(o?[].concat(Object(p.a)(u),[[y(n[0],0,1,o[0],o[1]),y(n[1],0,1,o[0],o[1])]]):[n]),D(void 0),document.removeEventListener("mouseup",e),document.removeEventListener("mousemove",r)})),document.addEventListener("mousemove",r)}}),u.length>0&&a.createElement("div",{className:"PlotZoomOut",onClick:function(){return s(u.slice(0,u.length-1))}},"Zoom out")),t.map((function(e,t){var n,r=j(e.data,b.a.last(u));return a.createElement("div",{key:t,className:"PlotLegendItem",style:{color:null!==(n=e.color)&&void 0!==n?n:w(e.label,.5,.5),opacity:m[t]?.5:void 0},onClick:function(){return v(function(e,t,n){var a=Object(p.a)(e);return a[t]=n,a}(m,t,!m[t]))}},e.label,"\xa0",void 0!==k?a.createElement("span",null,Math.round(k*r.data.length),": ",r.data[Math.round(k*r.data.length)]):a.createElement("span",null,"[",r.start,":",r.data[0],", ..., ",r.end-1,":",b.a.last(r.data),"]"))})))}var C=function(){var e=r.a.useState([3,1,2]),t=Object(i.a)(e,2),n=t[0],a=t[1],o=r.a.useState("return [3, 1, 2];"),c=Object(i.a)(o,2),l=c[0],u=c[1],s=r.a.useState(""),h=Object(i.a)(s,2),d=h[0],m=h[1];return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"Left"},r.a.createElement(f,{value:l,onChange:function(e){var t;u(e);try{t=Function(e)()}catch(r){return void m(r.message)}if(m(""),t&&Array.isArray(t)){for(var n=0;n<t.length;n++)if("number"!==typeof t[n])return void m("Element ".concat(n," is not a number"));a(t)}},options:{theme:"one-dark",mode:"javascript",lineNumbers:!0}})),r.a.createElement("div",{className:"Right"},r.a.createElement(k,{lines:[{data:n,label:"Data"}]}),r.a.createElement("div",{className:"Error"},d)),r.a.createElement("div",{className:"Header"},"jsplot by ",r.a.createElement("a",{href:"https://twitter.com/jfnoren"},"@jfnoren"),". Code on ",r.a.createElement("a",{href:"https://github.com/FredrikNoren/jsplot"},"GitHub"),". Find it useful? ",r.a.createElement("a",{href:"https://www.patreon.com/fredriknoren"},"Become a Patron!")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[14,1,2]]]);
//# sourceMappingURL=main.bed422e0.chunk.js.map